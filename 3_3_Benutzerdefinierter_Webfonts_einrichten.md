# Benutzerdefinierter Webfonts einrichten

In WordPress werden die Funktionen und Funktionalitäten eines Themas in einer Datei functions. php definiert. Hier finden Sie die Konfigurationseinstellungen für alles, von der HTML5-Unterstützung über Sidebars und Menüs bis hin zur Abfrage von Styles und Scripts. Während des Kurses werden wir viele Änderungen vornehmen und Inhalte in der Datei functions. php hinzufügen, also ist es wichtig zu wissen, was hier vor der Auslieferung steht. Immer wenn Sie eine Core-Datei in Unterstriche öffnen, werden Sie feststellen, dass es viele dieser grau unterlegten Kommentarbereiche gibt. Das liegt daran, dass Underscores ein Starter-Thema ist, und als Starter-Thema gibt es klare Anweisungen, was Sie tun sollten und wie Sie die verschiedenen Komponenten, die im Inneren des Themas selbst verpackt sind, verwenden können.

Das bedeutet, dass es immer dann, wenn Sie auf etwas Neues in Underscores stoßen und Sie sich fragen, was es ist und wie es funktioniert, normalerweise eine Erklärung in Form eines Kommentars gibt, der Ihnen sagt, in welcher Datei Sie sich gerade befinden oder was diese spezielle Funktion tut. Und wenn Sie anfangen, neue Funktionen und Funktionalitäten zu Ihrem eigenen Thema hinzuzufügen, sollten Sie gleichwertige Kommentare hinzufügen, um zu erklären, was sowohl für Sie selbst als auch für zukünftige Benutzer vor sich geht. Nun lasst uns diese Datei Schritt für Schritt herunterbrechen. Ganz oben an der Spitze haben wir das Setup für eine sogenannte Pluggable-Funktion.

Diese bedingte Anweisung besagt, wenn keine Funktion existiert, humescores_setup, dann die Funktion humescores_setup ausführen. Sie werden dieses besondere bedingte Markup während des gesamten Kurses und während dieses Themas viele Male sehen, und es hat einen bestimmten Zweck. Wenn jemand ein untergeordnetes Thema auf dieses aktuelle Thema aufbaut, kann er diese Funktionen überschreiben. Wenn also ein Kindthema eine Funktion mit dem Namen humescores_setup einrichtet, dann wird diese, wenn eine Anweisung ausgelöst wird, und die übergeordnete Funktion humescores_setup wird einfach nicht ausgeführt.

So ist es eine einfache Möglichkeit, einem Kind die Kontrolle über das Thema zu geben. Die fragliche Funktion, humescores_setup, ist die Theme-Setup-Funktion. Hier definieren Sie alle Hauptparameter des Themas, mit dem Wordpress das Thema und den Inhalt des Themas handhaben soll, und ganz oben in humescores_setup laden wir die Theme-Textdomäne. Die Textdomäne wird immer dann verwendet, wenn wir die Inhalte eines Themas in eine andere Sprache übersetzen wollen. Also im Moment baue ich dieses Thema auf Englisch aus, was bedeutet, dass alle Textelemente, die das Thema darstellt, auf Englisch sein werden.

Ein Übersetzer kann dann in das Thema gehen, eine Übersetzungsdatei zur Verfügung stellen und sagen, wann immer es einen Textstring gibt, der die Textdomäne humescores hat, diesen Textstring gegen meine Sprachversion des Textes austauschen. Alle diese Übersetzungen werden in den Ordner /languages gestellt, den Sie hier im Hauptthema sehen können. Als nächstes fügen wir die Theme-Unterstützung für zwei Kernfunktionen, automatische Feed-Links und Titel-Tags, so dass wir uns keine Gedanken darüber machen müssen. Du solltest die beiden immer drin lassen, ändere sie niemals. Dann fügen wir Theme-Unterstützung für Post-Thumbnails hinzu.

Jetzt ist post thumbnails die alte Nomenklatur für das, was wir heute Featured Images nennen. Wenn Sie in Ihrem Thema Unterstützung für Bilder hinzufügen möchten, d. h. jemand kann zu einem Beitrag oder einer Seite gehen und ein Bild zu diesem Beitrag oder dieser Seite hinzufügen, muss diese Codezeile in Ihrem Themen-Setup vorhanden sein. Wenn es nicht dort ist, wird dieses Feature auf der Rückseite von Wordpress nicht verfügbar sein. Unterstriche kommt mit einem registrierten Navigationsmenü, d. h. es gibt einen Themenbereich, in dem Sie ein Menü platzieren können. Dies geschieht durch das Registrieren eines Navigationsmenüs in einem Array, so dass das Array derzeit einen Eintrag, ein Hauptmenü mit dem lesbaren Namen Primary enthält.

Wenn Sie weitere Menüs hinzufügen möchten, und wir werden das später im Kurs machen, kopieren Sie einfach diese Zeile, fügen eine weitere Zeile im Array hinzu und geben Sie ihr ein neues Label und einen neuen, lesbaren Namen. Wenn Sie Wordpress also stattdessen auf HTML5 aktualisieren möchten, können Sie eine Theme-Unterstützung für HTML 5 hinzufügen und dann eine Reihe von Funktionen einrichten, die Sie aktualisieren möchten. Das Array, das standardmäßig mit Unterstrichen ausgeliefert wird, ist das volle Array, und so sind dies alle verfügbaren Features.

Sie sind Suchmaske, Kommentarformular, Kommentarliste, Galerie und Bildunterschrift. Wenn Sie z. B. HTML5-Unterstützung für Beschriftungen hinzufügen, wird jedes Bild mit einer Beschriftung in eine Figur eingepackt und die Beschriftung wird zu einer Bildunterschrift. Wenn Sie diese Funktion entfernen möchten, entfernen Sie einfach diese Zeile im Array oder Sie können die gesamte Funktionalität entfernen, aber ich würde wieder nicht empfehlen, dies zu tun, weil dies etwas ist, das Sie wirklich in Ihrem Thema haben sollten und es gibt nur sehr wenige Fälle, in denen Sie zurück zu der alten Art und Weise, Dinge zu tun zurückkehren möchten. Das letzte was wir in humescore_setup tun ist die Theme-Unterstützung für benutzerdefinierte Hintergründe hinzuzufügen.

Diese Funktion wird in die Customizer-Funktion eingehängt, mit der der Admin der Website eine benutzerdefinierte Hintergrundfarbe einstellen und ein benutzerdefiniertes Hintergrundbild hinzufügen kann. Wir können für beide Standardeinstellungen festlegen, so dass Sie hier sehen, dass die Standardhintergrundfarbe momentan weiß ist und es kein Standardbild gibt. Wenn Sie ein Standardbild hinzufügen möchten, können Sie dies hier tun, aber fügen Sie einfach eine URL hinzu, entweder eine absolute oder eine relative URL. Und wenn Sie nicht möchten, dass der Admin der Seite die Hintergrundfarbe ändern kann, entfernen Sie einfach diese gesamte Funktion. Humescore_setup wird in das After-Setup-Theme eingebunden, d. h. nachdem das Theme eingerichtet wurde, werden alle diese Funktionen ausgeführt und Wordpress wird mit allen Inhalten arbeiten, die wir hier definiert haben.

Als nächstes haben wir eine Reihe von Definitionen, die die Funktionalität des Themas erweitern. Wir beginnen damit, den Inhalt mit Global einzustellen. Dies gilt für alles, was aus einer anderen Quelle stammt. Wenn Sie also beispielsweise ein YouTube-Video in einen Beitrag oder eine Seite einbetten möchten, muss das Thema wissen, wie breit der Inhalt sein wird, und der Inhalt mit Global definiert diese Breite. Also gerade jetzt, wenn Sie ein YouTube-Video in Ihre Website einbetten, wird die maximale Breite des YouTube-Videos 640 Pixel betragen. Wenn die Inhaltsbreite für Ihr Thema entweder breiter oder schmaler wird, möchten Sie diese globale Standardeinstellung ändern, damit YouTube-Videos und andere eingebettete Inhalte die richtige Breite haben.

Dies gilt jedoch nicht für Bilder, die von außen kommen, oder für reguläre Bilder. So ziemlich alle Themen haben heutzutage irgendeine Form von widgetized Bereichen, wo Sie Widgets vom Wordpress admin setzen können, aber jene widgetized Bereiche sind nicht immer in der sidebar, die es ein bisschen sonderbar bildet, dass die Funktionalität, widgetized Bereiche Wordpress hinzuzufügen, noch Register Sidebar genannt wird. Aber so war es früher, so ist es immer noch. In Unterstriche haben wir einen widgetized Bereich, der Sidebar genannt wird und die ID sidebar-1 hat, also, wann immer es benannt wird, ist dieses die Identifikation, die wir benutzen werden.

Der widgetized Bereich wickelt jedes der Widgets in einem Abschnitt mit der ID des Widgets und einem Klassen-Widget ein, und dann der Widget Typ, und wenn das Widget einen Titel hat, ist dieser Widget Titel in H2 mit der Klasse Widget Titel. Wenn Sie zusätzliche Widgets hinzufügen möchten, was wir später im Kurs machen werden, kopieren Sie einfach diesen ganzen Abschnitt, fügen Sie ihn ein und alle diese Haken in Widgets darin ein, so dass Sie dann einen zusätzlichen Widgets-Bereich einrichten, den Sie am Backend ausfüllen können. Jedes Mal, wenn Sie einem Wordpress-Theme Stylesheets oder Javascripts hinzufügen möchten, möchten Sie diesen Inhalt in die Warteschlange stellen, anstatt ihn in den Kopf- oder Fußbereich einzufügen.

Dies ist, damit Sie diese Aufrufe in bedingte Anweisungen wie hier sehen können, is_singular und comments_open und get_option threaded comments verpacken können. Auf diese Weise laden Sie nur die Stylesheets, die Sie brauchen, wenn sie gebraucht werden und Sie laden nur die Javascripts, die Sie brauchen, wenn sie gebraucht werden. Darüber hinaus können Sie bei Enqueue-Styles und -Skripten ein Skript oder ein Stylesheet von einem anderen abhängig machen und Ketten verschiedener Skripte oder Stylesheets erstellen, die in die Seite geladen werden. Dies ist eine extrem leistungsfähige Funktion in Wordpress, und wir werden sie während des Kurses viel verwenden, wann immer wir ein neues Stylesheet oder neues Javascript hinzufügen.

Diese Funktion wird sich also mit fortschreitender Entwicklung stark erweitern. Tatsächlich ist Enqueue-Skripte ein so wichtiges Feature in Wordpress, dass wir einen separaten Kurs anbieten, der sich ausschließlich auf die Abfrage von Stilen und Skripten konzentriert, die Sie für weitere Informationen auschecken können. Aber wie ich bereits sagte, werden wir während des Kurses mehrmals darauf zurückkommen, um zusätzliche Features auf unserer Seite hinzuzufügen. Am Ende von functions. php haben Sie eine Reihe dieser Require Anweisungen, die auf den Ordner inc und verschiedene Dateien innerhalb des Ordners inc verweisen. Dies wird getan, um functions. php zu vereinfachen, damit es nicht zu groß ist, also haben wir große Teile von functions. php in dedizierte Dateien aufgeteilt.

Hier haben wir einen benutzerdefinierten Header, der den gesamten Code für benutzerdefinierte Header-Funktionalität enthält. Es gibt eine Datei namens Template Tags, die alle erweiterten Funktionen für das Template enthält, Dinge wie Meta-Inhalte und andere erweiterte Funktionen, und hier werden wir auch die meisten unserer benutzerdefinierten Funktionen platzieren. Es gibt eine Datei namens Extras, die zusätzliche Funktionalität bietet, wie z. B. die Funktion, die das Body-Element für verschiedene Beiträge und Seiten verändert. Es gibt Unterstützung für den Customizer, so dass wir dem Customizer zusätzliche Funktionen hinzufügen können, und schließlich gibt es eine Datei, die Unterstützung für einige Jetpack-Funktionen hinzufügt, falls diese Seite Jetpack verwendet.

Da wir nun eine allgemeine Vorstellung davon haben, was in functions. php ist und wie es funktioniert, empfehle ich Ihnen, diese Datei im Detail durchzulesen und alle Kommentare zu lesen. So werden Sie sich mit dem, was hier ist, welche Funktionalitäten im Theme verfügbar sind und was diese anderen Dateien tun, vertraut machen. Ich empfehle Ihnen, jede der Dateien im Ordner inc durchzugehen und herauszufinden, wie sie alle zusammenpassen und warum sie oben im Thema Schlange stehen, um mit anzufangen. Wie ich bereits mehrfach erwähnt habe, werden wir immer wieder zu dieser Datei zurückkehren und mehr Funktionalität hinzufügen, so dass es eine wirklich gute Idee ist zu wissen, was hier am Anfang steht.
